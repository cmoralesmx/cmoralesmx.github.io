<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Copying and Pasting between VIM instances | Carlos A. Morales</title> <meta name="author" content="Carlos A. Morales"/> <meta name="description" content="How to copy and paste text from one VIM instance to another"/> <meta name="keywords" content="cloud-solutions-architect, cloud-architect, cloud-engineer, cloud-consultant"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Serif:300,400,500,700|Roboto+Slab:300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light"/> <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚛️</text></svg>"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://cmoralesmx.github.io/blog/2020/copying-across-vim-instances/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"/> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Carlos </span>A. Morales</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item"> <a class="nav-link" href="https://resume.cm-cloudarchitect.com" target="_blank" rel="noopener noreferrer">Resume </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Copying and Pasting between VIM instances</h1> <p class="post-meta">December 4, 2020</p> <p class="post-tags"> <a href="/blog/2020"> <i class="fas fa-calendar fa-sm"></i> 2020 </a>   ·   <a href="/blog/tag/vim"> <i class="fas fa-hashtag fa-sm"></i> vim</a>   </p> </header> <article class="post-content"> <p>One of the many features of the VIM editor is its multiple clipboards, “registers” in VIM lingo, for storing text (1 unnamed, 26 named, 10 numbered, 4 read-only, and 2 specials). All of them are accessed independently on-demand which is very useful for larger editing tasks.</p> <p>However, when the text must be copied to a file open in a different VIM instance, the situation is slightly different.</p> <div class="row mt-3 mb-3"> <div class="col-sm"> <img class="img-fluid rounded z-depth-1" src="/assets/img/2020-12-04-vim-nvim.png"> </div> </div> <div class="caption"> Vim and NeoVim side by side </div> <p>Depending on how your VIM was built, copying and pasting text between instances may not be possible. This feature is usually not enabled on basic VIM installations. Checking if the feature is available can be done by executing,</p> <div class="language-vim highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">:</span>echo <span class="nb">has</span><span class="p">(</span><span class="s1">'clipboard'</span><span class="p">)</span>
</code></pre></div></div> <p>Which returns a boolean value.</p> <p>If the feature is not enabled, we could compile a custom VIM or use an alternative version such as gvim or even neoVIM. Neovim was born as a fork of VIM and is designed to be a drop-in replacement for the former and has this feature enabled by default.</p> <p>Both gvim and neovim can be installed with a single instruction,</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo pacman -S gvim neovim
</code></pre></div></div> <p>Then, copying text between different instances of the same application can be achieved by taking advantage of two special registers,</p> <ul> <li>* for PRIMARY, which is the copy-on-select register and can be pasted using the mouse.</li> <li>+ for CLIPBOARD, this is accessed with the usual ^C and ^V</li> <li>+ for CLIPBOARD, this is accessed with the usual <kbd>Ctrl</kbd><kbd>Shft</kbd><kbd>C</kbd> and <kbd>Ctrl</kbd><kbd>Shft</kbd><kbd>V</kbd> </li> </ul> <p>These registers are accessed similarly to the rest of the registers. For copying text, yanking in VIM lingo, to the registers just mentioned, you would do,<br> <code class="language-plaintext highlighter-rouge">"*y</code> for the primary register<br> <code class="language-plaintext highlighter-rouge">"+y</code> for the clipboard register<br> <kbd>"</kbd><kbd>*</kbd><kbd>y</kbd> for the primary register<br> <kbd>"</kbd> + <kbd>+</kbd> + <kbd>y</kbd> for the clipboard register</p> <p>For pasting the text, again, following the usual formula,<br> <code class="language-plaintext highlighter-rouge">"+p</code> would paste from the primary register<br> <code class="language-plaintext highlighter-rouge">"+p</code> would paste from the clipboard register</p> <p>Using these registers can be simplified by creating some key-binding such as,</p> <div class="language-vim highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">noremap</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span><span class="k">y</span> "*<span class="k">y</span>
<span class="nb">noremap</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span><span class="k">p</span> "*<span class="k">p</span>
<span class="nb">noremap</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span>Y "<span class="p">+</span><span class="k">y</span>
<span class="nb">noremap</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span>P "<span class="p">+</span><span class="k">p</span>
</code></pre></div></div> <p>You do not know what the <leader> key is? By default, it is the backslash key <kbd> \ </kbd>. Or you can check what it is set to with</leader></p> <div class="language-vim highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">:</span>echo mapleader
</code></pre></div></div> <p>In a future post, I will provide more ideas of its use.</p> <p>And that is it, copying and pasting text between instances is trivial again.</p> </article><div id="disqus_thread"></div> <script type="text/javascript">var disqus_shortname="think-code-cycle",disqus_identifier="/blog/2020/copying-across-vim-instances",disqus_title="Copying and Pasting between VIM instances";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}();</script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" target="_blank" rel="noopener noreferrer">comments powered by Disqus.</a> </noscript> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2022 Carlos A. Morales. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-CW7VDPN2T7"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CW7VDPN2T7");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>